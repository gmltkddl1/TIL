# URL 단축기

## 요구사항
- 긴 URL을 짧은 URL로 변환한다.
- 짧은 URL로 요청이오면 긴 URL로 리다이랙션한다.
  - 301 응답을 캐시함: 부하 분산에 유리
  - 302 응답을 캐시하지 않음: 트래픽 추적에 유리
- 높은 가용성 규모 확장성 장애 감내성을 가져야한다.

## 대략적 설계
- REST API로 URL 변환 구현
  - 긴 URL을 보내면 짧은 URL을 응답하는 API, 짧은 URL을 보내면 긴 URL로 리다이랙트하는 API로 구성 
- 변환시 조건에 맞는 적절한 해쉬 알고리즘 필요

## 상세 구현
- 데이터 저장 방식
  - 대용량 처리를 지원해야하고 연관된 데이터를 조회하므로 RDB or nosql에 저장
  - 해시함수는 해쉬 충돌이 발생하면 안되고 역변환이 가능해야함
    - 해쉬 후 충돌해소: 일반적 해쉬함수 실행 후 앞부분을 자른다. 충돌이 발생하면 정해진 문자를 더해 해쉬함수를 실행한다. 충돌이 없을때까지 반복한다.
      - 장점: 멱등성 보장
      - 단점: 디비 조회가 최소 1번 충돌시 여러번 일어남 
    - Base 62: 알파벳 대소문자와 숫자의 종류가 62개 이므로 유일 ID생성기를 이용하여 숫자로된 ID를 62진법 변환후 URL로 사용
      - 장점: 충돌이 일어나지 않음, 디비 조회 없음
      - 단점: 멱등성이 보장되지 않음, 중복저장으로 인한 메모리 낭비
