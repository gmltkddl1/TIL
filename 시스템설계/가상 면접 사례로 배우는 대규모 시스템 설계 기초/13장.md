# 검색어 자동완성 시스템
## 기본 구조
- 트라이 데이터 베이스 사용 rdb 데이터량이 많아지면 대응 어려움
- 데이터양이 많기 때문에 실시간보다는 배치성으로 트라이를 새로 만든다
- 트라이 갱신을 위해 사용자의 질의를 로그로 저장하고 로그를 취합하여 취합 DB를 만들어 그 결과로 트라이를 만든다.
- 사용자가 질의를 보내면 트라이에서 데이터를 조회한다.
## 대용량 성능 개선
- 데이터양이 많아지면 트라이 조회시 접두어의 최대 크기를 제한하고 접두어에 상위 N개의 유효한 자식노드를 캐시하는 방식으로 성능개선 가능
- 데이터량이 많아져서 한 서버에 저장하지 못한다면 샤딩을 고려해야하고 샤딩은 첫글자 기준으로하거나 26개보다 많이 하기를원한다면 aa-ac ad-aj 이런식으로 두번째 글자를 포함하는 방식으로 늘릴수있음
- 샤드의 균등한 분배를 위해 관리 서버를 둘수 있으나 자세히 설명되어있지 않음
