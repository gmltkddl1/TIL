# 유투브 설계
## 기본 구조
- 기능은 크게 업로드와 스트리밍으로 나뉨
- 업로드 기능 구성
  - 원본 파일 서버에 업로드 (BLOB)
  - 파일 트랜스코딩(인코딩)
  - 트랜소코딩 저장소에 저장 (비트레이트 별, 코덱별 저장)
  - CDN에 업로드, 큐에 이벤트 전송
  - 메타데이터 업데이트 컨슈머가 이벤트를 가져와서 영상의 메타데이터 업데이트
- 스트리밍 기능 구성
  - CDN에서 영상을 조회
  - Streaming 프로토콜로 조회
 
## 트랜스 코딩 DAG
- DAG로 병렬처리 가능한 것들 병렬처리 (비디오, 오디오, 썸네일)

## 비용 최적화
- 인기 컨텐츠만 CDN저장
- 나머지는 요청시 인코딩하여 제공
